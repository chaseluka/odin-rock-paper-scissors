<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">Rock Paper Scissors</div>
    <div class="weapon-text">Choose your Weapon:</div>
    <div class="selections">
        <input type="image" src="images/rock.png" alt="Rock" id="rock" />
        <input type="image" src="images/paper.png" alt="Paper" id="paper" />
        <input type="image" src="images/scissors.png" alt="Scissors" id="scissors" />
    </div>
    <div>
        <div class="results"></div>
        <div class="score"></div>
    </div>
    <div class="floaty">
        <div class="question" onclick="on()"> ? </div>
    </div>
    <div id="overlay" onclick="off()">
        <div class="container"> 
            <div class="how-to-container">
                <div id="how-to">How to Play:</div>
                <ol>
                    <li>Select either Rock, Paper, or Scissors.</li>
                    <li>Paper wins against Rock, Rock against Scissors, and Scissors against Paper.</li>
                    <li>Continue selections until one player reaches 5 points.</li>
                </ol>
            </div>
        </div>
    </div>
    <div id="game-over">
        <div class="game-over-container">
            <div class="game-over-text"></div>
            <button class="game-over-button" onclick="reset()">Play Again</button>
        </div>
    </div>
</body>
<script> 

    function on() {
        document.getElementById("overlay").style.display = "block";
    };

    function off() {
        document.getElementById("overlay").style.display = "none";
    };

    function gameOver() {
        document.getElementById("game-over").style.display = "block";
    };

    function reset(){
        playerScore = 0;
        computerScore = 0;
        document.getElementById("game-over").style.display = "none";
    };

    const btnRock = document.querySelector('#rock');
    btnRock.addEventListener('click', function(e) {
        playerSelection = 'rock';
        match();
       
    });

    const btnPaper = document.querySelector('#paper');
    btnPaper.addEventListener('click', function (e) {
        playerSelection = 'paper';
        match();
       
    });

    const btnScissors = document.querySelector('#scissors');
    btnScissors.addEventListener('click', function (e) {
        playerSelection = 'scissors';
        match();
    });

    let playerScore = 0;
    let computerScore = 0;
    let playerSelection = '';
    
    function match (){

        function computerPlay (){
            let randomNumber = Math.random()*3;
            
            if (randomNumber <= 1){
                return ('Rock');
            }
            else if (randomNumber <= 2){
                return ('Paper');
            }
            else if (randomNumber <= 3)
                return ('Scissors');
            else;
        }

        let computerSelection = computerPlay();

        function round (computerSelection, playerSelection){
            

            if (playerSelection === 'rock' && computerSelection === 'Paper'){ 
                computerScore = computerScore + 1;
                return ('You lose! Paper beats Rock');
            }
            else if (playerSelection === 'rock' && computerSelection === 'Scissors'){
                playerScore = playerScore + 1;
                return ('You win! Rock beats Scissors');
            }
            else if (playerSelection === 'rock' && computerSelection === 'Rock'){
                return ('You tie! Rock cancels out Rock');
            }
            else if (playerSelection === 'paper' && computerSelection === 'Paper'){
                return ('You tie! Paper cancels out Paper');
            }
            else if (playerSelection === 'paper' && computerSelection === 'Scissors'){
                computerScore = computerScore + 1;
                return ('You lose! Scissors beat Paper');
            }
            else if (playerSelection === 'paper' && computerSelection === 'Rock'){
                playerScore = playerScore + 1;
                return ('You win! Paper beats Rock');
            }
            else if (playerSelection === 'scissors' && computerSelection === 'Paper'){
                playerScore = playerScore + 1;
                return ('You win! Scissors beats Paper');
            }
            else if (playerSelection === 'scissors' && computerSelection === 'Scissors'){
                return ('You Tie! Scissors cancels out Scissors');
            }
            else if (playerSelection === 'scissors' && computerSelection === 'Rock'){
                computerScore = computerScore + 1;
                return ('You lose! Rock beats Scissors');
            }

        }

        if (playerScore === 5){
            gameOver ();
            const win = document.querySelector('.game-over-text');
            win.textContent = 'You Won!';
        }
        else if (computerScore === 5){
            gameOver ();
            const lose = document.querySelector('.game-over-text');
            lose.textContent = 'You Lost!';
        }
        else if (computerScore < 5 && playerScore < 5) {
            const results = document.querySelector('.results');
            results.textContent = round(computerSelection, playerSelection);
        }
        
        const score = document.querySelector('.score');
        score.textContent = (`Player: ${playerScore} `) + (`Computer: ${computerScore}`);
        
    }
    
</script>
</html>